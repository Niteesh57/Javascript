<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=
    , initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        function setcookie(name,value,duration){
            var cookie = name + "=" + encodeURIComponent(value);

            if (typeof duration == 'number'){
                cookie += ";max-age="+(duration*24*60*60);

                document.cookie = cookie;
            }

        }
        function getcookie(name){
            var cookie = document.cookie.split(';');

            // cookie.forEach(
            //     function(item){
            //         var arr = item.split('=');
            //         if (arr[0].trim() === name)
            //         {
            //             return decodeURIComponent(arr[1]);
            //         }
            //     }
            // );
            for (var i = 0; i < cookie.length; i++){
                var arr = cookie[i].split('=');
                if (arr[0].trim() === name){
                    return decodeURIComponent(arr[1]);
                }
            }    
            return null
        }
        function checkcookie(){
            var first = getcookie("firstname");

            if (first != null){
                alert("Welcome again " + first);
            }
            else{
                first = prompt("Please enter your name: ");

                if (first != "" && first != null){
                    setcookie("firstname",first,1);
                }
            }
        }

        window.onload = checkcookie;
    </script>
</body>
</html>
